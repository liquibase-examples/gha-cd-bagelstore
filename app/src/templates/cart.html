{% extends "base.html" %}

{% block title %}Shopping Cart - Bagel Store{% endblock %}

{% block content %}
<h2>Your Shopping Cart</h2>

{% if items %}
<div class="cart-items">
    {% for item in items %}
    <div class="cart-item">
        <h3>{{ item.product.name }}</h3>
        <p>{{ item.product.description }}</p>
        <p>Price: ${{ "%.2f"|format(item.product.price) }} each</p>
        <p>Quantity: {{ item.quantity }}</p>
        <p><strong>Subtotal: ${{ "%.2f"|format(item.subtotal) }}</strong></p>
        <form action="{{ url_for('main.remove_from_cart', product_id=item.product.id) }}" method="POST">
            <button type="submit" class="btn-remove">Remove</button>
        </form>
    </div>
    {% endfor %}
</div>

<div class="cart-total">
    <h3>Total: ${{ "%.2f"|format(total) }}</h3>
    <a href="{{ url_for('main.checkout') }}" class="btn-checkout">Proceed to Checkout</a>
</div>
{% else %}
<p>Your cart is empty.</p>
<p><a href="{{ url_for('main.index') }}">Continue Shopping</a></p>
{% endif %}
{% endblock %}
